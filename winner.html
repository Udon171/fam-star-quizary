<!-- game-over.html -->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Winner!</title>
	<link rel="stylesheet" href="assets/style/style.css">
</head>
<body class="game-over-bg">
	<video class="bg-video-game-over" autoplay muted loop>
        <source src="assets/video/visual-05.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <div class="winner-box">
        <h2 class="winner-title">CONGRATULATIONS!</h2>
        <div class="winner-section">
            <div class="winner-label">Winner! <span>üèÜ</span></div>
            <div class="winner-icon">üòä</div>
            <div class="winner-name" id="winner-name">Player</div>
            <div class="winner-score" id="winner-score">115 pts</div>
        </div>
        <div class="final-scores">Bonus Points:</div>
        <div class="score-list">
            <div class="score-row"><span class="icon">üíô</span> <span class="score" id="score1">115 pts</span></div>
            <div class="score-row"><span class="icon">‚è±Ô∏è</span> <span class="score" id="bonus-score">0 bonus</span></div>
        </div>
        <button class="play-again-btn start-btn" onclick="window.location.href='index.html'">Play Again</button>
    </div>
    <script>
        // Populate winner info from localStorage
        const score = parseInt(localStorage.getItem('final_score') || 0, 10);
        const player = localStorage.getItem('final_player') || 'Player';
        const bonus = parseInt(localStorage.getItem('bonus_time_total') || 0, 10);
        let total = parseInt(localStorage.getItem('final_total_score'), 10);
        console.log('Loaded from storage:', {score, bonus, total});
        if (isNaN(total) || total <= score) {
            total = score + bonus;
            console.log('Fallback total:', total);
        }
        document.getElementById('winner-name').textContent = player;
        document.getElementById('winner-score').textContent = total + ' pts';
        document.getElementById('score1').textContent = score + ' pts';
        document.getElementById('bonus-score').textContent = bonus + ' bonus';
    </script>
</body>
</html>
